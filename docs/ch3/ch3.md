# 테스트 구축하기

## 4.1 자가 테스트 코드의 가치

프로그래머들은 실제로는 코드를 작성하는데는 비중이 크지 않다. <br>
대부분의 시간은 상황 파악이나, 설계 고민에 사용한다. (또는..디버깅..)
나 또한 현황파악, 경쟁사 분석, 설계 고민에 시간 비중이 많은 것 같다.

| "모든 테스트를 완전히 자동화하고 그 결과까지 스스로 검사하게 만들자"

테스트 도구를 사용하면 훨씬 편하게 테스트코드를 작성할 수 있다. <br>

* 테스트를 먼저 작성하다보면 원하는 기능을 추가하기 위해 무엇이 필요한지 고민하게 된다.
* 또한, 인테페이스에 집중할 수 있다는 것은 좋은 일이다.

## 4.3 첫 번째 테스트

1. 테스트 코드에는 '테스트 픽스쳐'가 필요한다.
2. 로직 진행 후 정확한 값이 나왔는 지 검증한다.

테스트가 무리 없이 성공한다면, 일부러 코드에 오류를 주입해서 테스트가 실패하는지도 확인해보자.

* 자주, 분 간격으로, 적어도 하루 한 번 테스트하라.

## 4.4 테스트 추가하기

1. 테스트는 위험 요인을 중심으로 작성해라. 완벽하게 만들려고 해서 시작조차 못하는 것보다 불완전한 테스트가 낫다.
2. 똑같은 '픽스쳐'를 사용한다면 중복을 제거하자.

   1. 공유 픽스쳐를 사용한다면 테스트끼리 충돌이 발생해 예상치 못한 결과가 나올 수 있다.
   2. 픽스쳐가 '불변'이라면 공유해서 사용할 순 있을 것이다.

## 4.6 경계 조건 검사

오류는 항상 '꽃길'상황에서만 나지 않는다. 그렇기에 우리는 문제가 될 수 있는 지점을 테스트 해야만 한다.
보통 오류는 경계지점에서 많이 발생한다.

* 음수, 경계값, 타입이 다른 값 등을 넣어서 에외 상황을 !집중적!으로 테스트하자.
* 모든 경우의 수를 테스트하는 것은 테스트를 아예 시작하지도 않게 만들 수 있다. 그건 안된다. 중요 지점이라도 시작하라. 그것이 대다수 버그를 잡을 수 있는 길이다.

## 4.7 끝나지 않은 여정

'테스트'는 리팩터링을 위한 기반이며 매우 중요하다.

테스트는 한번 작성하고 끝나는 것이 절대 아니다. 기능을 추가해가며 계속 보강해야하고 새로운 테스트도 추가해야만 한다.

또 중요한 것은, 버그를 발견하는 즉시 **버그를 명확히 잡아내는 테스트부터 작성하는 습관**을 들이는 것이다.

커버리지가 높다고 품질이 좋다고는 할 수 없다. 테스트 스위트가 충분한 지 평가하는 기준은 주관적이다. 그렇지만 테스트를 통과했을 때 버그가 없다고 확신할 수 있다면 충분히 좋은 테스트이다.

너무 많아서 느려질까 걱정해서 테스트코드를 작성안하지는 말자..보통은 너무 적은 경우가 훠얼씬 많다..
